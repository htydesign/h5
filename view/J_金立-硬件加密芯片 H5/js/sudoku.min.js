var time=0,pause=!0,finish=!0,set_timer,d=Array(10),d_direct=[[0],[2,4],[1,3,5],[2,6],[1,5,7],[2,4,6,8],[3,5,9],[4,8],[5,7,9],[6,8]],d_posXY=[[0],[0,0],[146,0],[292,0],[0,146],[146,146],[292,146],[0,292],[146,292],[292,292]];d[1]=1;d[2]=2;d[3]=3;d[4]=4;d[5]=5;d[6]=6;d[7]=7;d[8]=8;d[9]=0;var oldArr=d.concat();
function move(a){if(!finish){for(var b=1,b=1;10>b&&d[b]!=a;++b);var c=0,c=whereCanTo(b);0!=c&&(d[b]=0,d[c]=a,document.getElementById("d"+a).style.left=d_posXY[c][0]+"px",document.getElementById("d"+a).style.top=d_posXY[c][1]+"px");a=!0;for(b=1;9>=b;++b)if(9!=b&&d[b]!=b){a=!1;break}1==a&&(pause||(start(),finish=!0),setTimeout(function(){document.getElementById("d9").className="d9";$(".frame").fadeOut();$(".g-btn").fadeOut();setTimeout(function(){$(".g-h3").show();$(".sudoku-info p").show().html("\u4f60\u5df2\u542f\u52a8\u5b89\u5168\u88c5\u7f6e");
setTimeout(function(){$(".sudoku").addClass("active");$(".game").css({opacity:0});$(".box").css({opacity:0});$(".game-bg").css({opacity:0});$(".g-container").css({opacity:0});setTimeout(function(){$(".sudoku-box").css({backgroundColor:"#ffffff"});$(".sudoku").fadeOut(500,function(){$(this).remove()});$(".show-chip").show()},500)},2E3)},500)},1E3))}}
function whereCanTo(a){for(var b=0,c=!1,b=0;b<d_direct[a].length;++b)if(0==d[d_direct[a][b]]){c=!0;slideMusic.play();break}return 1==c?d_direct[a][b]:0}function timer(){time+=1;parseInt(time/60)}function start(){pause?(pause=!1,set_timer=setInterval(timer,1E3)):(pause=!0,clearInterval(set_timer))}function reset(){finish=!1;time=0;random_d();pause&&start();document.getElementById("d9").className="target";$(".frame").show()}
function random_d(){for(var a=9;1<a;--a){var b=parseInt(Math.random()*(a-1)+1);0!=d[a]&&(document.getElementById("d"+d[a]).style.left=d_posXY[b][0]+"px",document.getElementById("d"+d[a]).style.top=d_posXY[b][1]+"px");0!=d[b]&&(document.getElementById("d"+d[b]).style.left=d_posXY[a][0]+"px",document.getElementById("d"+d[b]).style.top=d_posXY[a][1]+"px");var c=d[b];d[b]=d[a];d[a]=c}}
function restore(){for(var a=1;a<oldArr.length;a++)9!=a&&(document.getElementById("d"+a).style.left=d_posXY[a][0]+"px",document.getElementById("d"+a).style.top=d_posXY[a][1]+"px");document.getElementById("d9").className="d9";$(".frame").fadeOut();setTimeout(function(){$(".g-h3").show();$(".sudoku-info p").show().html("\u4f60\u5df2\u542f\u52a8\u5b89\u5168\u88c5\u7f6e");setTimeout(function(){$(".sudoku").addClass("active");$(".game").css({opacity:0});$(".box").css({opacity:0});$(".game-bg").css({opacity:0});
$(".g-container").css({opacity:0});setTimeout(function(){$(".sudoku-box").css({backgroundColor:"#ffffff"});$(".sudoku").fadeOut(500,function(){$(this).remove()});$(".show-chip").show()},500)},3E3)},500)}$(".reset").on("touchstart",function(){reset()});$(".help").on("touchstart",function(){$(".g-btn").fadeOut();$(".g-h1").fadeIn()});$(".g-h1").on("touchstart",function(){$(this).fadeOut();$(".sudoku-info p").fadeOut();restore()});